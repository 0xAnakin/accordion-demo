<div class="dashboard-list-view-desktop">
  <div class="dashboard-policy-row mb-4" *ngFor="let key of objectKeys(data)">
    <ng-container *ngTemplateOutlet="shouldBeRendered(key.toLowerCase())?desktopShow:desktopHide; context:{key:key, data:data};">
    </ng-container>
  </div>

  <ng-template #desktopShow let-key="key" let-data="data">
    <div class="dashboard-policy-row-head">
      <img class="policy-icon" src="/assets/images/dashboard-{{key.toLowerCase()}}-policy.svg" />
      <h2 class="policy-name">{{data[key].Dsc}}</h2>
    </div>
    <div class="dashboard-policy-row-body">
      <table cellpading="0" cellspacing="0">
        <tr>
          <th>{{translationService.translate('dashboard.list.insured')}}</th>
          <th>{{translationService.translate('dashboard.list.policyNumber')}}</th>
          <th>{{translationService.translate('dashboard.list.startDate')}}</th>
          <th>{{translationService.translate('dashboard.list.endDate')}}</th>
          <th>{{translationService.translate('dashboard.list.status')}}</th>
          <th>{{translationService.translate('dashboard.list.ePolicy')}}</th>
        </tr>
        <tr class="dashboard-policy-record" (click)="onRecordCLick($event, key, record)" *ngFor="let record of data[key].Policies">
          <td>{{record.Object}}</td>
          <td>{{record.PolicyNo}}</td>
          <td>{{formatDate(record.PolicyStart)}}</td>
          <td>{{formatDate(record.PolicyEnd)}}</td>
          <td>{{record.Status}}</td>
          <td>{{record.Consent}}</td>
        </tr>
      </table>
    </div>
  </ng-template>
  <ng-template #desktopHide></ng-template>
</div>
